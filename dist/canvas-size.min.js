/*!
 * canvas-size
 * v0.0.0
 * https://github.com/jhildenbiddle/canvas-size
 * (c) 2018 John Hildenbiddle <http://hildenbiddle.com>
 * MIT license
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.canvasSize=e()}(this,function(){"use strict";function t(){return(t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function e(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var n=document?document.createElement("canvas"):null,i=n&&n.getContext?n.getContext("2d"):null,r={max:null,min:1,sizes:[],step:1024,onError:Function.prototype,onSuccess:Function.prototype},o={area:[16384,14188,11402,10836,11180,8192,4096,r.min],height:[8388607,32767,16384,8192,4096,r.min],width:[4194303,32767,16384,8192,4096,r.min]};function s(t,e){var r=t-1,o=e-1;try{return n.width=t,n.height=e,i.fillRect(r,o,1,1),Boolean(i.getImageData(r,o,1,1).data[3])}catch(t){return!1}}function h(t){var e=t.sizes.shift(),n=e[0],i=e[1];s(n,i)?t.onSuccess(n,i):(t.onError(n,i),t.sizes.length&&setTimeout(function(){h(t)},0))}function a(t){var e=t.width===t.height,n=1===t.height,i=1===t.width,o=[];if(t.width&&t.height){for(var s=t.min||r.min,h=t.step||r.step,a=Math.max(t.width,t.height);a>s;){var u=e||n?a:1,c=e||i?a:1;o.push([u,c]),a-=h}o.push([s,s])}else t.sizes.forEach(function(t){var r=e||n?t:1,s=e||i?t:1;o.push([r,s])});return o}return{maxArea:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=a({width:n.max,height:n.max,min:n.min,step:n.step,sizes:e(o.area)});h(t({},r,n,{sizes:i}))},maxHeight:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=a({width:1,height:n.max,min:n.min,step:n.step,sizes:e(o.height)});h(t({},r,n,{sizes:i}))},maxWidth:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=a({width:n.max,height:1,min:n.min,step:n.step,sizes:e(o.width)});h(t({},r,n,{sizes:i}))},test:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t({},r,n);i.sizes.length?(i.sizes=e(n.sizes),h(i)):s(i.width,i.height)?i.onSuccess(i.height,i.width):i.onError(i.height,i.width)}}});
//# sourceMappingURL=canvas-size.min.js.map
