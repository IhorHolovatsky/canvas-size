/*!
 * canvas-size
 * v1.0.4
 * https://github.com/jhildenbiddle/canvas-size
 * (c) 2015-2020 John Hildenbiddle <http://hildenbiddle.com>
 * MIT license
 */
var e,t={max:null,min:1,sizes:[],step:1024,onError:Function.prototype,onSuccess:Function.prototype},i={area:[16384,14188,11402,10836,11180,8192,4096,t.min],height:[8388607,32767,16384,8192,4096,t.min],width:[4194303,32767,16384,8192,4096,t.min]};if(window&&"OffscreenCanvas"in window&&"Worker"in window){(e=(e=>{var t="(".concat(e.toString(),")()"),i=new Blob([t],{type:"application/javascript"}),n=URL.createObjectURL(i),s=new Worker(n);return URL.revokeObjectURL(n),s})((function(){self.onmessage=function(e){!function(e){var{job:t,cvs:i,width:n,height:s,fill:a}=e,o=i.getContext("2d");o.fillRect.apply(o,a),self.postMessage({job:t,width:n,height:s,result:Boolean(o.getImageData.apply(o,a).data[3])})}(e.data)}}))).onmessage=function(e){console.log("Done (Worker)",e.data);var{width:t,height:i,job:n,result:s}=e.data;document.dispatchEvent(new CustomEvent(n,{detail:{height:i,width:t,result:s}}))}}function n(t){var{width:i,height:n}=t,s=i-1,a=n-1;if(e){console.log("Worker");var o=new OffscreenCanvas(i,n),r=Date.now();document.addEventListener(r,(function(e){console.log("Done (Listener)",e.detail);var{width:i,height:n,result:s}=e.detail;s?t.onSuccess(i,n):t.onError(i,n)}),!1),e.postMessage({cvs:o,fill:[s,a,1,1],height:n,job:r,width:i},[o])}else try{console.log("Non-Worker");var h=document.createElement("canvas"),c=h.getContext("2d");h.width=i,h.height=n,c.fillRect(s,a,1,1),c.getImageData(s,a,1,1).data[3]?t.onSuccess(i,n):t.onError(i,n)}catch(e){t.onError(i,n)}}function s(e){var t=e.sizes.shift(),i=t[0],a=t[1];n(i)?e.onSuccess(i,a):(e.onError(i,a),e.sizes.length&&setTimeout((function(){s(e)}),0))}function a(e){var i=e.width===e.height,n=1===e.height,s=1===e.width,a=[];if(e.width&&e.height){for(var o=e.min||t.min,r=e.step||t.step,h=Math.max(e.width,e.height);h>o;){var c=i||n?h:1,g=i||s?h:1;a.push([c,g]),h-=r}a.push([o,o])}else e.sizes.forEach(e=>{var t=i||n?e:1,o=i||s?e:1;a.push([t,o])});return a}var o={maxArea(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=a({width:e.max,height:e.max,min:e.min,step:e.step,sizes:[...i.area]});s(Object.assign({},t,e,{sizes:n}))},maxHeight(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=a({width:1,height:e.max,min:e.min,step:e.step,sizes:[...i.height]});s(Object.assign({},t,e,{sizes:n}))},maxWidth(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=a({width:e.max,height:1,min:e.min,step:e.step,sizes:[...i.width]});s(Object.assign({},t,e,{sizes:n}))},test(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=Object.assign({},t,e);if(!i.sizes.length)return n(i);i.sizes=[...e.sizes],s(i)}};export default o;
//# sourceMappingURL=canvas-size.esm.min.js.map
