/*!
 * canvas-size
 * v1.1.0
 * https://github.com/jhildenbiddle/canvas-size
 * (c) 2015-2020 John Hildenbiddle <http://hildenbiddle.com>
 * MIT license
 */
function e(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function t(e){var n,r,s=e.sizes.shift(),i=s[0],a=s[1],o=[i-1,a-1,1,1],h=Date.now(),c="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope;c?(n=new OffscreenCanvas(1,1),r=new OffscreenCanvas(i,a)):((n=document.createElement("canvas")).width=1,n.height=1,(r=document.createElement("canvas")).width=i,r.height=a);var g=n.getContext("2d"),u=r.getContext("2d");u.fillRect.apply(u,o),g.drawImage(r,i-1,i-1,1,1,0,0,1,1);var d=0!==g.getImageData(0,0,1,1).data[3],m=Date.now()-h;return c?(postMessage({width:i,height:a,benchmark:m,isTestPass:d}),!d&&e.sizes.length&&t(e)):d?e.onSuccess(i,a,m):(e.onError(i,a,m),e.sizes.length&&t(e)),d}var n={max:null,min:1,sizes:[],step:1024,usePromise:!1,useWorker:!1,onError:Function.prototype,onSuccess:Function.prototype},r={area:[32767,16384,14188,11402,10836,11180,8192,4096,n.min],height:[8388607,65535,32767,16384,8192,4096,n.min],width:[4194303,65535,32767,16384,8192,4096,n.min]},s={};function i(e){var t=e.width===e.height,r=1===e.height,s=1===e.width,i=[];if(e.width&&e.height)for(var a=e.min||n.min,o=e.step||n.step,h=Math.max(e.width,e.height);h>=a;){var c=t||r?h:1,g=t||s?h:1;i.push([c,g]),h-=o}else e.sizes.forEach(e=>{var n=t||r?e:1,a=t||s?e:1;i.push([n,a])});return i}function a(n){var r=window&&window.HTMLCanvasElement,i=Date.now();if(!r)return!1;if(!(n.useWorker&&window&&"OffscreenCanvas"in window))return n.usePromise?new Promise((e,r)=>{t(Object.assign({},n,{onError(e,t,s){n.onError&&n.onError(e,t,s),0===n.sizes.length&&r({width:e,height:t,benchmark:s})},onSuccess(t,r,s){n.onSuccess&&n.onSuccess(t,r,s),e({width:t,height:r,benchmark:s})}}))}):t(n);var a="\n            ".concat(t.toString(),"\n            onmessage = function(e) {\n                canvasTest(e.data);\n            };\n        "),o=new Blob([a],{type:"application/javascript"}),h=URL.createObjectURL(o),c=new Worker(h),{onError:g,onSuccess:u}=n,d=e(n,["onError","onSuccess"]);URL.revokeObjectURL(h),s[i]={onError:g,onSuccess:u},c.onmessage=function(e){var{width:t,height:n,benchmark:r,isTestPass:a}=e.data;a?(s[i].onSuccess(t,n,r),delete s[i]):s[i].onError(t,n,r)},c.postMessage(d)}var o={maxArea(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i({width:e.max,height:e.max,min:e.min,step:e.step,sizes:[...r.area]});return a(Object.assign({},n,e,{sizes:t}))},maxHeight(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i({width:1,height:e.max,min:e.min,step:e.step,sizes:[...r.height]});return a(Object.assign({},n,e,{sizes:t}))},maxWidth(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i({width:e.max,height:1,min:e.min,step:e.step,sizes:[...r.width]});return a(Object.assign({},n,e,{sizes:t}))},test(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},n,e);return t.sizes=[...t.sizes],t.width&&t.height&&(t.sizes=[[t.width,t.height]]),a(t)}};export default o;
//# sourceMappingURL=canvas-size.esm.min.js.map
